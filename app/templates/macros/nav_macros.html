{% macro dot_services_dropdown(current_user, UserRole) %}
<li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" href="#" id="dotDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        DOT Services
    </a>
    <div class="dropdown-menu" aria-labelledby="dotDropdown">
        <a class="dropdown-item" href="{{ url_for('dot.my_tickets') }}">My Tickets</a>
        <div class="dropdown-divider"></div>
        <a class="dropdown-item" href="{{ url_for('dot.apply_for_permit') }}">Apply for New Permit</a>
        <a class="dropdown-item" href="{{ url_for('dot.my_permit_applications') }}">My Permit Applications</a>
        {% if current_user.role in [UserRole.OFFICER, UserRole.ADMIN] %}
            <div class="dropdown-divider"></div>
            <h6 class="dropdown-header">Officer Tools</h6>
            <a class="dropdown-item" href="{{ url_for('dot.issue_ticket') }}">Issue Ticket</a>
            <a class="dropdown-item" href="{{ url_for('dot.list_issued_tickets') }}">My Issued Tickets</a>
            <a class="dropdown-item" href="{{ url_for('dot.review_permit_applications_list') }}">Review Permit Apps</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="{{ url_for('dot.record_inspection') }}">Record Inspection</a>
            <a class="dropdown-item" href="{{ url_for('dot.list_my_conducted_inspections') }}">My Conducted Inspections</a>
        {% endif %}
    </div>
</li>
{% endmacro %}
