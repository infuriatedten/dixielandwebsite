{% extends "base.html" %}
{% import "bootstrap_wtf.html" as wtf %}

{% block content %}
<div class="container mt-4">
    <div class="row">
        <div class="col-md-8 offset-md-2">
            <h1 class="mb-4">{{ title }}</h1>
            <p class="text-muted">Fill out the details for the item you wish to put up for auction. An administrator will review your submission before it goes live.</p>

            <div class="card shadow-sm">
                <div class="card-body">
                    <form method="POST" action="{{ url_for('auction.submit_auction_item') }}" novalidate>
                        {{ form.hidden_tag() }}

                        {% if form.csrf_token.errors %}
                            <div class="alert alert-danger">
                                {{ form.csrf_token.errors[0] }}
                            </div>
                        {% endif %}

                        {{ wtf.render_field(form.item_name) }}
                        {{ wtf.render_field(form.item_description) }}
                        {{ wtf.render_field(form.suggested_starting_bid) }}
                        {{ wtf.render_field(form.image_url) }}

                        <p class="small text-muted mt-3">
                            By submitting this item, you agree that if approved and sold, the item must be made available to the winning bidder as described.
                            Payment will be transferred to your account upon successful collection from the winner.
                        </p>
                        {{ wtf.render_field(form.submit, field_class='btn-primary w-100') }}
                    </form>
                </div>
            </div>
            <div class="mt-3">
                <a href="{{ url_for('auction.my_submissions') }}" class="btn btn-outline-secondary">View My Submissions</a>
                <a href="{{ url_for('auction.index') }}" class="btn btn-outline-info float-end">Back to Active Auctions</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
